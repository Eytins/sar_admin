<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>野外救援系统</title>
    <link rel="stylesheet" href="/css/layui.css">
    <link th:href='@{//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css}' rel='stylesheet' />
    <link rel="stylesheet" th:href="@{//cliffcloud.github.io/Leaflet.LocationShare/deps/leaflet.css}" />
    <script th:src="@{//cliffcloud.github.io/Leaflet.LocationShare/deps/leaflet.js}"></script>
    <script th:src='@{/js/Leaflet.LocationShare.js}'></script>
    <style>
        .mapContainer {
            border-radius: 8px;
            z-index: 5000;
        }
        .crop-box {
            width: 70px;
            height: 50px;
            overflow: hidden;
        }
        .crop-box img {
            max-height: 50px;
            max-width: 70px;
            margin: 0px 0px 0px 0px;
            float:right;
        }
    </style>
</head>
<body>

<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo">SEARCH</div>
        <!-- 头部区域（可配合layui 已有的水平导航） -->
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img th:src="@{/tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg}" class="layui-nav-img">
                    ${username}
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">退出</a></dd>
                    <dd><a href="">注销</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item"><a href="">Sign out</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="test">
                <li class="layui-nav-item layui-nav-itemed">
                    <a class="" th:href="@{/mission/main}">任务管理</a>
                </li>
                <li class="layui-nav-item">
                    <a calss="" th:href="@{/user/main}">用户管理</a>

                </li>
                <li class="layui-nav-item">
                    <a th:href="@{/computer/main}">主机管理</a>
                </li>
                <li class="layui-nav-item">
                    <a th:href="@{/log/main}">日志管理</a>
                </li>
                <li class="layui-nav-item"><a href="">the links</a></li>
            </ul>
        </div>
    </div>

    <!-- 内容主体区域-->
    <div class="layui-body">
        <div id='map' style="width: 100%; height: 100%;" class='mapContainer img-responsive'></div>
        <div style="float:right">
            <table>
                <tr>
                    <td style="width:50px">
            <span class="crop-box">
              <a href="//www.cliffcloud.com">
                <img class="topImage"
                     th:src="@{//cliffcloud.github.io/Leaflet.LocationShare/deps/cliffcloud_logo_small.png}"/>
              </a>
            </span>
                    </td>
                    <td style="width:50px">
            <span class="crop-box">
              <a th:href="@{//github.com/CliffCloud/Leaflet.LocationShare}"><img class="topImage" th:src="@{//assets-cdn.github.com/images/modules/logos_page/GitHub-Mark.png}" /></a>
            </span>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class='col-md-1' style="float:right;"></div>
</div>
</body>
<script>
    var map = L.map('map').setView([39.930868, -111.634911], 16);
    L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    const Http = new XMLHttpRequest();
    const url='http://47.100.138.128/608test';
    Http.open("POST", url);
    Http.send();

    Http.onreadystatechange = (e) => {
        console.log(Http.responseText)
    }

    // todo: change the basemap layer to topographic
</script>
</body>
</html>